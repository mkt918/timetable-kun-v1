# 時間割くん v1.5.0

教員・クラス時間割リンクシステム
**サーバー不要・完全スタンドアロン**動作。`index.html` をダブルクリックするだけで起動します。

---

## 起動方法

1. このフォルダを任意の場所に置く（またはzipを解凍する）
2. `index.html` をダブルクリック
3. ブラウザで開いて完了

**動作確認済みブラウザ:** Google Chrome / Microsoft Edge（最新版推奨）

---

## 主な機能

| 機能 | 説明 |
|------|------|
| 全教員時間割一覧 | 全教員の時間割をテーブル形式で表示 |
| ドラッグ＆ドロップ編集 | 授業をドラッグして移動・配置 |
| クラス別時間割表示 | クラスごとの時間割を表示 |
| マスターデータ管理 | 教員・教科・科目・特別教室・会議を登録・編集 |
| 担当授業管理 | 教員の授業担当と週時間数を設定 |
| TT（チームティーチング）対応 | 複数教員による授業の配置 |
| 連動グループ | 複数クラスの合同授業を連動移動 |
| 勤務不可設定 | 教員ごとに授業不可の時限を設定 |
| 選択授業グループ | 選択科目のグループ管理 |
| バリデーション | 重複・勤務不可・週授業数超過などをチェック |
| パーキングエリア | 教員ごとの授業一時保管スペース |
| 印刷機能 | 時間割のPDF印刷 |
| CSV入出力 | マスターデータのCSVエクスポート/インポート |
| JSON保存/読込 | プロジェクト全体の保存・復元 |
| Undo/Redo | 最大20回分の操作を取り消し・やり直し |

---

## データの保存について

データはブラウザの **LocalStorage** に自動保存されます。

- ブラウザを閉じても保存されます
- 別のパソコンには同期されません
- ブラウザの「閲覧データの削除」を行うと消えます

**定期的にJSONエクスポートでバックアップすることをおすすめします。**

---

## サンプルデータ

`sample/` フォルダにサンプルCSVファイルを用意しています。

| ファイル | 内容 |
|---------|------|
| `teachers.csv` | 教員リスト |
| `subjects.csv` | 科目リスト |
| `assignments.csv` | 担当授業リスト |

マスターデータ画面の「CSVインポート」からインポートできます。

---

## ファイル構成

```
時間割くんv2/
├── index.html          メインファイル（ここをダブルクリック）
├── css/
│   └── style.css       スタイルシート
├── fonts/              日本語フォント（オフライン用）
│   ├── NotoSansJP-Regular.woff2
│   ├── NotoSansJP-Medium.woff2
│   └── NotoSansJP-Bold.woff2
├── js/                 JavaScriptファイル群
└── sample/             サンプルデータ
```

---

## よくある質問

**Q: データが消えた**
A: ブラウザのキャッシュ削除を行うとデータが消えます。定期的にJSONエクスポートでバックアップしてください。

**Q: 別のパソコンで使いたい**
A: JSONエクスポートでデータを保存し、別のパソコンにインポートしてください。

**Q: 印刷がうまくいかない**
A: 「印刷」ボタンを押すと印刷プレビューが開きます。用紙サイズやレイアウトはブラウザの印刷設定で調整してください。

---

## バージョン履歴

### v1.5.0（2026-03-02）
- Google Fonts をローカルフォントに変更（完全オフライン対応）
- Undo/Redo 機能を完全有効化（最大20回）
- LocalStorage 容量超過時の警告を追加
- XSS 対策を強化
- 週授業時間数超過のバリデーションを追加
- モバイル表示の改善
- 初期化エラーのユーザーフレンドリーな表示

### v1.4.1（初期リリース）
- 時間割管理の基本機能
